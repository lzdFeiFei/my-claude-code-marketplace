---
name: md-to-wechat
description: 将 Markdown 文档转换为适合微信公众号的美观 HTML 格式。当用户需要将 Markdown 文件转换为公众号文章、需要美观的公众号排版样式、或提到"公众号"、"微信公众号"、"草稿"等关键词时使用此 skill。支持标题、代码块、引用块、列表、表格等常见 Markdown 元素，采用简约清新的排版风格。
---

# Markdown to WeChat HTML Converter

将 Markdown 文档转换为适合微信公众号发布的美观 HTML 格式。

## 功能概述

此 skill 提供了一个专门优化的工具，用于将标准 Markdown 文档转换为带有精美排版样式的 HTML 内容。转换后的内容可以直接复制粘贴到微信公众号后台草稿箱，无需额外调整样式。

核心特点：
- **简约清新的设计风格**：采用类似掘金、少数派的现代化排版风格
- **完整的 Markdown 支持**：支持标题、段落、列表、代码块、引用块、表格、图片等
- **双重输出**：既生成可在浏览器预览的 HTML 文件，也输出可直接复制的 HTML 代码
- **开箱即用**：无需复杂配置，一条命令完成转换

## 使用场景

在以下情况下使用此 skill：

1. 用户明确提到需要将 Markdown 转换为公众号格式
2. 用户询问如何在公众号中发布技术文章或内容
3. 用户需要美观的公众号排版样式
4. 用户提到"公众号草稿"、"微信公众号"、"公众号文章"等关键词

## 工作流程

### 基本使用

当用户请求转换 Markdown 文档时，按以下步骤操作：

1. **确认输入文件**：确认用户提供的 Markdown 文件路径是否正确

2. **执行转换**：运行转换脚本
   ```bash
   python scripts/md_to_wechat.py <markdown_file_path>
   ```

3. **查看输出**：
   - HTML 文件会保存在与输入文件相同的目录下，文件名相同但扩展名为 `.html`
   - 控制台会显示可直接复制的 HTML 内容

4. **指导用户**：告知用户如何使用生成的内容：
   - 可以在浏览器中打开 HTML 文件预览效果
   - 或复制控制台输出的 HTML 代码，直接粘贴到公众号后台

### 自定义输出路径

如果用户希望指定输出文件路径：

```bash
python scripts/md_to_wechat.py <input.md> -o <output.html>
```

### 仅输出到控制台

如果用户不需要生成文件，只想获取 HTML 代码：

```bash
python scripts/md_to_wechat.py <input.md> --no-file
```

## 脚本说明

### scripts/md_to_wechat.py

核心转换脚本，负责将 Markdown 转换为 HTML 并应用公众号样式。

**依赖库**：
- `markdown`: Python Markdown 解析库

**首次使用时安装依赖**：
```bash
pip install markdown
```

**主要功能**：
- 读取 Markdown 文件
- 转换为 HTML 格式
- 应用简约清新的 CSS 样式
- 生成完整的 HTML 文档（用于浏览器预览）
- 生成可复制的 HTML 片段（用于粘贴到公众号）

## 样式特点

转换后的 HTML 采用以下设计原则：

1. **配色方案**：
   - 主色调：蓝色 (#4A90E2)
   - 背景色：浅灰色 (#fafafa)
   - 文本色：深灰色 (#333)

2. **排版细节**：
   - 标题层次分明，使用不同的字号和装饰
   - 代码块使用深色主题 (#282c34)，提高可读性
   - 引用块左侧蓝色边框，灰色背景
   - 表格带有阴影和悬停效果
   - 适当的留白和间距，提升阅读体验

3. **响应式设计**：
   - 最大宽度 750px，适配移动端
   - 图片自动缩放，不会超出容器

## 示例

### 输入 (example.md)

```markdown
# 标题示例

这是一段普通文本。

## 代码示例

\`\`\`python
def hello_world():
    print("Hello, World!")
\`\`\`

> 这是一个引用块
```

### 输出效果

转换后的 HTML 会呈现为：
- 大标题带有底部蓝色边框
- 二级标题左侧有蓝色竖线
- 代码块使用深色背景，语法高亮
- 引用块有浅灰背景和左侧蓝色边框

## 公众号使用指南

将 HTML 内容复制到公众号的步骤：

1. 打开微信公众号后台（mp.weixin.qq.com）
2. 点击"新建图文消息"
3. 在编辑器工具栏找到"源代码"或"HTML"按钮（通常在右上角"更多"中）
4. 粘贴复制的 HTML 内容
5. 切换回可视化编辑模式
6. 检查效果，必要时进行微调
7. 保存草稿或直接发布

## 故障排除

### 依赖库缺失

如果运行时提示缺少 `markdown` 库：
```bash
pip install markdown
```

### 文件路径错误

确保提供的 Markdown 文件路径正确，可以使用绝对路径或相对路径。

### 样式在公众号中显示异常

部分公众号编辑器可能会过滤某些 CSS 样式。如果样式显示不正常：
1. 尝试在可视化编辑模式下手动调整
2. 或使用公众号编辑器自带的样式工具

## 扩展建议

如果用户有特殊需求，可以考虑：

1. **修改样式**：编辑 `scripts/md_to_wechat.py` 中的 `WECHAT_STYLE` 变量，调整 CSS 样式
2. **添加主题**：创建多个样式模板，支持不同的排版风格
3. **批量转换**：编写脚本支持批量处理多个 Markdown 文件

## 参考资源

- `assets/example.md`: 示例 Markdown 文件，展示了常见的 Markdown 语法元素
